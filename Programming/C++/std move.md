---
—Å–æ–∑–¥–∞–ª –∑–∞–º–µ—Ç–∫—É: 21-04-2025
tags:
  - –ü–ª—é—Å—ã
---
### –û–ø–∏—Å–∞–Ω–∏–µ
**`std::move(x)`** ‚Äî —ç—Ç–æ **—Ñ—É–Ω–∫—Ü–∏—è-–∫–∞—Å—Ç**, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É:
> üí¨ "–Ø –±–æ–ª—å—à–µ –Ω–µ –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `x`, –º–æ–∂–µ—à—å —Å–ø–æ–∫–æ–π–Ω–æ –µ–≥–æ **–ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å**"
### –í–∞–∂–Ω–æ: `std::move` **–ù–ï** –¥–≤–∏–≥–∞–µ—Ç –Ω–∏—á–µ–≥–æ —Å–∞–º–æ –ø–æ —Å–µ–±–µ.

üîπ –û–Ω–∞ –ø—Ä–æ—Å—Ç–æ **–ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç `x` –≤ rvalue-—Å—Å—ã–ª–∫—É** (`T&&`),  
—á—Ç–æ–±—ã —Å—Ä–∞–±–æ—Ç–∞–ª **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è** –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ü—Ä–∏–º–µ—Ä: –±–µ–∑ move (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ):
```cpp
std::string s1 = "hello";
std::string s2 = s1; // –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è: s1 –æ—Å—Ç–∞—ë—Ç—Å—è, s2 ‚Äî –∫–æ–ø–∏—è
```
–ú–µ–¥–ª–µ–Ω–Ω–æ: –∫–æ–ø–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É
### –ü—Ä–∏–º–µ—Ä: —Å move (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ)
```cpp
std::string s1 = "hello";
std::string s2 = std::move(s1); // s2 –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, s1 ‚Äî –ø—É—Å—Ç–æ
```
### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç move?
```cpp
template<typename T>
typename std::remove_reference<T>::type&& move(T&& t) {
    return static_cast<typename std::remove_reference<T>::type&&>(t);
}
```
### –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `std::move`?
|–°—Ü–µ–Ω–∞—Ä–∏–π|–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ?|
|---|---|
|–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞|–£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ (–±–µ–∑ –∫–æ–ø–∏–∏)|
|–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ std::vector, std::string|–ë—ã—Å—Ç—Ä–æ, –±–µ–∑ –∞–ª–ª–æ–∫–∞—Ü–∏–π|
|–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞—Ö –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è|–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å –≤–ª–∞–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏|
### –ü—Ä–∏–º–µ—Ä —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º:
```cpp
std::string build() {
    std::string temp = "data";
    return std::move(temp); // ‚Üê –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ, –±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
}
```
### –†–µ–∑—é–º–µ
> üîß **`std::move` ‚Äî —ç—Ç–æ —Å–∏–≥–Ω–∞–ª –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É: –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å, –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å.**  
> üß† –û–Ω —Å–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –¥–≤–∏–≥–∞–µ—Ç ‚Äî –æ–Ω **–≤–∫–ª—é—á–∞–µ—Ç move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è**.

üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –ø–µ—Ä–µ–¥–∞—á–∏ –≤–ª–∞–¥–µ–Ω–∏—è –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** –±–µ–∑ —Ä–∏—Å–∫–∞ –∞–ª–ª–æ–∫–∞—Ü–∏–π.