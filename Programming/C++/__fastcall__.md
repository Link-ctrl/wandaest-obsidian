---
создал заметку: 19-04-2025
tags:
  - Плюсы
---
### Описание
## Что такое `__fastcall`?
`__fastcall` — это **специфичное соглашение о вызове функции** (**calling convention**), используемое в Microsoft C++ компиляторах (MSVC) для ускорения передачи аргументов.
`__fastcall` Соглашение о вызовах указывает, что аргументы функции должны передаваться в регистры, если это возможно. Это соглашение о вызовах применяется только к архитектуре x86.
### Суть:
- Аргументы функции передаются **через регистры**, а не через стек, если это возможно.
- Цель — **ускорить вызов функции**, уменьшив нагрузку на стек и кэш.

## Где используется `__fastcall`?
- Только в **MSVC (Windows)** компиляторе.
- Для **x86 (32-битной)** архитектуры.
- Часто встречается в **играх**, **драйверах**, **оптимизированном ассемблере**, старых библиотеках DirectX.
## А как **обычно** параметры передаются в функциях в C++?
### Зависит от:
- Архитектуры (x86 / x64 / ARM)
- ABI (Application Binary Interface)
- Компилятора (GCC / Clang / MSVC)
- Calling convention (`cdecl`, `fastcall`, `stdcall`, `thiscall`, `vectorcall`, ...)
### Резюме
- `__fastcall` — **оптимизированное соглашение**, передающее первые аргументы через **регистры (ECX/EDX)**.
- Используется в **MSVC x86**, но не поддерживается стандартами C++.
- Современные 64-битные ABI **всегда используют регистры**, без нужды в fastcall.