---
создал заметку: 19-04-2025
tags:
  - Плюсы
---
### Описание
**Функция обратного вызова (callback function)** — это **функция, которую ты передаёшь как аргумент в другую функцию**,  чтобы она вызвалась **в нужный момент** внутри другой логики.

Пример:
```cpp
#include <iostream>

void sayHello() {
    std::cout << "Hello from callback!\n";
}

// Функция, принимающая функцию
void doSomething(void (*callback)()) {
    std::cout << "Doing work...\n";
    callback();  // <-- вызываем переданную функцию
}

int main() {
    doSomething(sayHello);
}

```
Вывод:
```cpp
Doing work...
Hello from callback!
```
### Зачем это нужно?
- Для **обработчиков событий** (например, клик мыши)
- Для **обратной связи после завершения** задачи
- Для **подключаемых обработчиков** в API
- Для **асинхронных операций** (файлы, сеть, таймеры)
### Как это работает под капотом?
1. Функция принимает **указатель на другую функцию** или объект с перегруженным `operator()`.
2. Где-то внутри (в коде библиотеки, API, системы) этот указатель **сохраняется и вызывается позже**.
3. Ты можешь передавать **любые функции, лямбды, functors, std::function** — что угодно, что можно вызвать.
### Важно помнить:
- Callback **может быть обычной функцией, лямбдой, функцией-членом (через `std::bind`) или функтором**.
- Указатели на функции — старый стиль.
- `std::function` + лямбды = **самый гибкий способ**.
- В асинхронных задачах callback может вызываться **в другом потоке**, нужно быть осторожным с переменными.
### Резюме
**Callback** — это функция, которую ты **передаёшь другому коду, чтобы он вызвал её позже**.