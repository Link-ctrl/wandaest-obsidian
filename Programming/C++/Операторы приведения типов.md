---
—Å–æ–∑–¥–∞–ª –∑–∞–º–µ—Ç–∫—É: 22-04-2025
tags:
  - –ü–ª—é—Å—ã
---
### –û–ø–∏—Å–∞–Ω–∏–µ
–í C++ –µ—Å—Ç—å **4 –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤**, –∫–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–µ–π —Ü–µ–ª—å—é:

|–û–ø–µ—Ä–∞—Ç–æ—Ä|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|
|---|---|
|`static_cast`|üîß –Ø–≤–Ω–æ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏|
|`dynamic_cast`|üß† –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ —Å `polymorphic` –∫–ª–∞—Å—Å–∞–º–∏)|
|`const_cast`|‚úÇÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `const` / `volatile`|
|`reinterpret_cast`|üß® –ü—Ä—è–º–æ–µ "–∂–µ—Å—Ç–∫–æ–µ" –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –±–∏—Ç–æ–≤ (–æ–ø–∞—Å–Ω–æ!)|
### –ì–ª–∞–≤–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ: `static_cast` vs `dynamic_cast`
|–°–≤–æ–π—Å—Ç–≤–æ|`static_cast`|`dynamic_cast`|
|---|---|---|
|–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏|‚úÖ –î–∞|‚ùå –ù–µ—Ç ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è **–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**|
|–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞|‚ùå –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ|‚úÖ –¢–æ–ª—å–∫–æ –∫–ª–∞—Å—Å—ã —Å **virtual**|
|–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å|‚ö†Ô∏è –ù–∞ —Ç–≤–æ–µ–π —Å–æ–≤–µ—Å—Ç–∏ (–º–æ–∂–µ—Ç –±—ã—Ç—å UB)|‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ (–µ—Å–ª–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ ‚Äî —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç)|
|–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ|‚ùå Undefined Behavior|üßØ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `nullptr` (–¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π), –∫–∏–¥–∞–µ—Ç `std::bad_cast` (–¥–ª—è —Å—Å—ã–ª–æ–∫)|
–ü—Ä–∏–º–µ—Ä `static_cast`
```cpp
class Base {};
class Derived : public Base {};

Base* b = new Derived;
Derived* d = static_cast<Derived*>(b);  // –¥–æ–ø—É—Å—Ç–∏–º–æ, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ä–∞–∑—Ä–µ—à–∞–µ—Ç

```
–ù–æ –µ—Å–ª–∏ `b` –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–µ `Derived` ‚Äî **–±—É–¥–µ—Ç UB (undefined behavior)**.

–ü—Ä–∏–º–µ—Ä `dynamic_cast`
```cpp
Base* b = new Base;

Derived* d = dynamic_cast<Derived*>(b);  // –±–µ–∑–æ–ø–∞—Å–Ω–æ
if (!d) {
    std::cout << "–û—à–∏–±–∫–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è\n";
}
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `nullptr` ‚Äî **–±–µ–∑ –∫—Ä–∞—à–∞**, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å

### –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
|–•–æ—á–µ—à—å...|–ò—Å–ø–æ–ª—å–∑—É–π|
|---|---|
|–ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤|`static_cast` (–µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω)|
|–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è|`dynamic_cast`|
|–£–¥–∞–ª–∏—Ç—å `const`, `volatile`|`const_cast`|
|–ü—Ä–∏–≤–µ—Å—Ç–∏ `int*` –∫ `char*`, –æ–±–æ–π—Ç–∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—é|`reinterpret_cast`|
### –†–µ–∑—é–º–µ
==> –í C++ –µ—Å—Ç—å 4 –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤:  
> üîπ `static_cast`  
> üîπ `dynamic_cast`  
> üîπ `const_cast`  
> üîπ `reinterpret_cast`

üìå –ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ:
- `static_cast` ‚Äî **–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–±–µ**
- `dynamic_cast` ‚Äî **–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏ —Ä–∞–Ω—Ç–∞–π–º —Ç–µ–±—è —Å—Ç—Ä–∞—Ö—É—é—Ç**
    
‚ùó–ï—Å–ª–∏ `dynamic_cast` **–Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ**:
- –ø—Ä–∏ **—É–∫–∞–∑–∞—Ç–µ–ª–µ** ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `nullptr`
- –ø—Ä–∏ **—Å—Å—ã–ª–∫–µ** ‚Üí –∫–∏–¥–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `std::bad_cast`