---
—Å–æ–∑–¥–∞–ª –∑–∞–º–µ—Ç–∫—É: 19-04-2025
tags:
  - –ü–ª—é—Å—ã
---
### –û–ø–∏—Å–∞–Ω–∏–µ
### 1. **–°—Ç–∞—Ä—ã–π C-—Å—Ç–∏–ª—å (—á–µ—Ä–µ–∑ `...`, `<cstdarg>`, `va_list`)**
–§—É–Ω–∫—Ü–∏—è –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è —Å –º–Ω–æ–≥–æ—Ç–æ—á–∏–µ–º `...`, –∞ –≤–Ω—É—Ç—Ä–∏ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Å –ø–æ–º–æ—â—å—é **–º–∞–∫—Ä–æ—Å–æ–≤ `va_list`, `va_start`, `va_arg`, `va_end`**.
```cpp
#include <cstdarg>
#include <iostream>

void printInts(int count, ...) {
    va_list args;
    va_start(args, count); // –Ω–∞—á–∏–Ω–∞–µ–º —Å—á–∏—Ç—ã–≤–∞–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

    for (int i = 0; i < count; ++i) {
        int value = va_arg(args, int);  // –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç
        std::cout << value << "\n";
    }

    va_end(args);  // –∑–∞–≤–µ—Ä—à–∏—Ç—å –¥–æ—Å—Ç—É–ø
}

int main() {
    printInts(3, 10, 20, 30);
}
```
### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ `va_list`:
- **–ù–µ—Ç —Ç–∏–ø–æ–≤** ‚Äî —Ç—ã —Å–∞–º –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ —Ç–∏–ø—ã —Ç—ã –ø–µ—Ä–µ–¥–∞–ª.
- **–ù–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ (type safety)**.
- **–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ç–∏–ø–∞–º–∏, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏ –∏ —Ç.–¥.**
- **–°—á—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞–¥–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é**.
### 2. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++ —Å—Ç–∏–ª—å (—á–µ—Ä–µ–∑ variadic templates)**
–≠—Ç–æ **—à–∞–±–ª–æ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**, –ø–æ—è–≤–∏–ª–∏—Å—å –≤ C++11. –û–Ω–∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ –º–æ—â–Ω–µ–µ.
```cpp
#include <iostream>

void print() {}  // –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π

template<typename T, typename... Args>
void print(T first, Args... rest) {
    std::cout << first << "\n";
    print(rest...);  // —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤
}

int main() {
    print(1, 2.5, "hello");
}
```
–í—ã–≤–æ–¥:
```cpp
1
2.5
hello
```
–¢—É—Ç **—Ç–∏–ø –∫–∞–∂–¥–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏–∑–≤–µ—Å—Ç–µ–Ω –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**, –∏ **–º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ** ‚Äî –¥–∞–∂–µ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –∫–ª–∞—Å—Å–æ–≤.

|–°–ø–æ—Å–æ–±|–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å|
|---|---|
|`va_list`|–¢–æ–ª—å–∫–æ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å C –∏–ª–∏ API –≤—Ä–æ–¥–µ `printf`|
|Variadic templates|–í–µ–∑–¥–µ, –≥–¥–µ –Ω—É–∂–µ–Ω —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –∫–æ–¥|
### –†–µ–∑—é–º–µ
–í C++ —Ñ—É–Ω–∫—Ü–∏—è **–º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:  
üîπ –ß–µ—Ä–µ–∑ **`...` –∏ `va_list`** (—Å—Ç–∞—Ä—ã–π, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–±, –Ω—É–∂–µ–Ω –≤ `printf`)  
üîπ –ß–µ—Ä–µ–∑ **variadic templates** (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –º–æ—â–Ω—ã–π, —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–±)