---
создал заметку: 19-04-2025
tags:
  - Плюсы
---
### Описание
## Как работает **память в C++** — ОБЩАЯ КАРТИНА

В C++ память делится на **несколько областей**, каждая со своим назначением:

|Раздел|Назначение|Живёт|Пример|
|---|---|---|---|
|**.text**|Машинный код программы (функции)|Всегда|`main()`, `foo()`|
|**.data**|Глобальные и статические с инициализацией|Всегда|`int x = 5;`|
|**.bss**|Глобальные и статические без инициализации|Всегда|`int x;`|
|**Heap (Куча)**|Динамически выделяемая память|До `delete`|`new`, `malloc`|
|**Stack (Стек)**|Автоматические переменные, фреймы вызовов|Пока не выйдет функция|`int x = 3;` в `main()`|
|**ROData**|Read-Only Data — строковые литералы|Всегда|`"hello"`, `const char*`|
|**TLS** (Thread Local Storage)|Поток-локальные переменные|Пока жив поток|`thread_local int t;`|

### 1. **Локальные переменные**

- Располагаются в **стеке**
- Создаются при входе в функцию, удаляются при выходе

### 2. **Глобальные и статические переменные**

- Располагаются в **сегментах .data или .bss**
- **Существуют всё время работы программы**

`.data` = инициализированные  
`.bss` = неинициализированные (все биты = 0)

### 3. **Динамические переменные**

- Создаются через `new`, `malloc`
- Хранятся в **куче (heap)**
- Пока ты сам не вызовешь `delete`, память остаётся в куче.
