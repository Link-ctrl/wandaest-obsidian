---
создал заметку: 22-04-2025
tags:
  - База
---
### Описание
**Наследование** — это **механизм ООП**, позволяющий **создавать новый класс на основе уже существующего**, **повторно используя** его **свойства и поведение**.

> Новый класс (потомок) **наследует** члены базового класса и **может переопределять или расширять** поведение.

### Когда использовать наследование?

Когда между двумя сущностями существует отношение:

> "**X является Y**" (`X is-a Y`)

📌 Например:
- `Dog` — это `Animal`
- `Button` — это `Widget`
- `AdminUser` — это `User`

Пример:
```cpp
class Animal {
public:
    void eat() const { std::cout << "Eating\n"; }
    virtual void speak() const { std::cout << "Some sound\n"; }
};

class Dog : public Animal {
public:
    void speak() const override { std::cout << "Woof!\n"; }
};

```
➡️ `Dog` **наследует** `eat()` от `Animal`  
➡️ `Dog::speak()` **переопределяет** поведение

### Типы наследования в C++
```cpp
class Child : public Base {};     // Открытое наследование (чаще всего)
class Child : protected Base {};  // Защищённое (не видно снаружи)
class Child : private Base {};    // Приватное (используется внутри реализации)
```
- `public` → сохраняется доступ к `public` и `protected` членам
- `protected` → `public` становится `protected`
- `private` → всё становится `private`

### Зачем наследование:
|Задача|Как помогает наследование|
|---|---|
|Повторное использование|Не надо писать `eat()` в каждом животном|
|Расширение поведения|`Dog::speak()` делает то, что нужно|
|Унифицированный интерфейс|Работаем с `Shape`, не зная про `Circle`|
|Полиморфизм|Позволяет гибко заменять реализацию|
### Важно помнить:
|Проблема|Как решать|
|---|---|
|Хрупкое наследование|Не наследуй от конкретных реализаций|
|Алмазы наследования|Используй `virtual` наследование, если нужно|
|Нарушение инкапсуляции|Используй `protected` аккуратно|
|Множественное наследование|Только если абсолютно необходимо|

### Резюме
**Наследование** — это мощный способ:
- строить иерархии
- переиспользовать код
- создавать расширяемые системы
- реализовать полиморфизм
Но с ним легко **перегнуть** — **используй его осознанно** и **только при наличии логического отношения "is-a"**.