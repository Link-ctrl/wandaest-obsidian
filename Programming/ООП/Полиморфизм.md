---
—Å–æ–∑–¥–∞–ª –∑–∞–º–µ—Ç–∫—É: 22-04-2025
tags:
  - –ë–∞–∑–∞
---
### –û–ø–∏—Å–∞–Ω–∏–µ
**–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º** (–æ—Ç –≥—Ä–µ—á. _"–º–Ω–æ–≥–æ —Ñ–æ—Ä–º"_) ‚Äî —ç—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø –û–û–ü, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π:
> **–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤**,  
> –ø—Ä–∏ —ç—Ç–æ–º –≤—ã–∑—ã–≤–∞—Ç—å **—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞**.
### –ü—Ä–æ—â–µ:
> –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –≤—ã–∑–æ–≤ ‚Äî —Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–∫—Ç–∞.

–ü—Ä–∏–º–µ—Ä:
```cpp
class Animal {
public:
    virtual void speak() const {
        std::cout << "Some generic animal sound\n";
    }
    virtual ~Animal() = default;
};

class Dog : public Animal {
public:
    void speak() const override {
        std::cout << "Woof!\n";
    }
};

class Cat : public Animal {
public:
    void speak() const override {
        std::cout << "Meow!\n";
    }
};

void makeItTalk(const Animal& a) {
    a.speak();  // –í—ã–∑–æ–≤–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞
}
```
### –í–∏–¥—ã –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –≤ C++:
|–í–∏–¥|–ü—Ä–∏–º–µ—Ä|–ú–µ—Ö–∞–Ω–∏–∑–º|
|---|---|---|
|**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π**|`template<typename T> void f(T)`|–ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø–æ–¥ –∫–∞–∂–¥—ã–π —Ç–∏–ø|
|**Ad-hoc (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞)**|`void f(int)` / `void f(double)`|–†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏|
|**–í—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**|`virtual` –º–µ—Ç–æ–¥—ã –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ|–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (vtable)|
### –°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ ‚Äî **Runtime-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**
#### –£—Å–ª–æ–≤–∏—è:
- –ù—É–∂–µ–Ω **—É–∫–∞–∑–∞—Ç–µ–ª—å/—Å—Å—ã–ª–∫–∞ –Ω–∞ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å**
- –ú–µ—Ç–æ–¥ –≤ –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **`virtual`**
- –í –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ –º–µ—Ç–æ–¥ –º–æ–∂–Ω–æ **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å (`override`)**
- –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä —É –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ **–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º!**
```cpp
Animal* a = new Dog();
a->speak();  // Woof! ‚Äî —Ö–æ—Ç—è —Ç–∏–ø `a` —ç—Ç–æ `Animal*`
```
–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ **vtable**: [[–¢–∞–±–ª–∏—Ü–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ (vtable)]]
### –ë–µ–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ ‚Äî –ù–ï–¢ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞:
```cpp
class A { void print(); };
class B : public A { void print(); };

A* obj = new B;
obj->print(); // –≤—ã–∑–æ–≤–µ—Ç A::print, –∞ –Ω–µ B::print ‚Äî –ù–ï–¢ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏!
```
### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º?
- –ü–æ–∑–≤–æ–ª—è–µ—Ç **–ø–∏—Å–∞—Ç—å –∫–æ–¥, –Ω–µ –∑–∞–≤–∏—Å—è—â–∏–π –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤**
- –£–ø—Ä–æ—â–∞–µ—Ç **—Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**
- –ü–æ–∑–≤–æ–ª—è–µ—Ç **—Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**
### –†–µ–∑—é–º–µ
–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ **–µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ**
- **–≤—ã–∑—ã–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞**
- –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å **–≥–∏–±–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**

üîß **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**:
- `virtual` / `override` / `final`
- —à–∞–±–ª–æ–Ω—ã (`template`)
- `std::function`, –ª—è–º–±–¥—ã
- –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã (—á–∏—Å—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã)